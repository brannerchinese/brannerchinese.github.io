<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>&</title>
	<meta name="description" content="">
	<meta name="author" content="David Prager Branner">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="http://brannerchinese.github.io/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="http://brannerchinese.github.io/theme/bootstrap.min.css" rel="stylesheet">
	<link href="http://brannerchinese.github.io/theme/local.css" rel="stylesheet">
	<link href="http://brannerchinese.github.io/theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->
    <link href="http://brannerchinese.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="& Atom Feed" />

</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="http://brannerchinese.github.io/">&</a>
			<ul class="nav">
					<li class="active"><a href="http://brannerchinese.github.io/category/.html"></a></li>
			</ul>
			<p class="pull-right"><a href="http://brannerchinese.github.io/archives.html">[archives]</a> <a href="http://brannerchinese.github.io/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="https://brannerchinese.com/dpb/publications.html">Publications</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="/feeds/all.atom.xml">RSS</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Inconsistent results of the same seed in random.seed() on different Python installations</h1></div>
		<div class="well small">Permalink: <a class="more" href="http://brannerchinese.github.io/inconsistent-results-of-random-seed-on-different-python-installations.html">2011-10-13 19:59:00</a>
by <a class="url fn" href="http://brannerchinese.github.io/author/david-prager-branner.html">David Prager Branner </a>
 in <a href="http://brannerchinese.github.io/category/.html"></a>
</div>
		<div><p>Non-integer seeds as the argument of <code>random.seed()</code> are normally
replaced by the integer hash of the seed supplied. The value of
<code>hash(x)</code> seems to be different on on 32-bit architectures from its
value on 64-bit architectures, provided the seed <code>x</code> is a string. The
values are the same if the seed is an integer.</p>
<p>This problem came up among several people trying to run the same code on
different platforms and different versions of Python 2.5 and 2.6.
Overall, there appear to be two different sets of results for <code>hash(x)</code>
with <code>x</code> a string rather than an integer — corresponding to 32- vs.
64-bit architectures.</p>
<hr />
<p></p>
Of the <code>random.seed(x)</code> function, Beazley (<em>Python Essential Reference</em>,
4th ed., p. 254) writes: "If <code>x</code> is not an integer, it must be a
hashable object and the value of <code>hash(x)</code> is used as a seed."</p>
<p>The <a href="http://docs.python.org/release/2.6.6/glossary.html#term-hashable">Python documentation website</a> says, "All of Python’s immutable
built-in objects are hashable, while no mutable containers (such as
lists or dictionaries) are. Objects which are instances of user-defined
classes are hashable by default; they all compare unequal, and their
hash value is their <code>id()</code>."</p>
<p>Strings are immutable in Python. Integers simply hash to their own
values, so they're naturally the same on all installations.</p>
<hr />
<p></p>
Edit: I've added a little piece of code I used to explore the Python 2.6
hashing function to my public repository on [BitBucket:
https://bitbucket.org/dpb/show_hash/overview][].</p></div>
		<div>
			<h2>Comments</h2>
		<div>
	</div>	
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; David Prager Branner</p>
		</footer>
	  </div>

	</div>
</body>
</html>